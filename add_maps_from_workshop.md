## Старый способ
***Можно разместить карту мастерской на своём выделенном сервере двумя различными способами.***

Самый простой способ, но вам придется обновлять карту самостоятельно:

    — Подпишитесь на карту со своего аккаунта
    — Запустить csgo, поиграть на карте в автономном режиме с ботами, закрываем csgo
    — Перейти в ...\Steam\steamapps\common\Counter-Strike GlobalOffensive\csgo\maps\workshop\Map_ID
    — Узнать название карты
    — Скопируйте все файлы, начинающиеся с имени карты
    — Загрузите их в папку csgo/maps на вашем ftp
    — Обычно вам нужно создать свой собственный файл cfg, nav
    — Теперь вы можете добавить карту в ваш ftp файл maplist.txt, mapcycle.txt... gamemodes_server.txt.

***1.** Этот метод не будет автоматически обновлять карту после изменений автора. При этом люди, играющие на вашем сервере, могут получать ошибки чистых файлов, ошибки несовпадения карт и даже ошибки поврежденных файлов.*

***2.** Я рекомендую этот способ только в том случае, если вы ленивы, плохо разбираетесь в вопросе или хотите сохранить устаревшую версию карты.*

***3.** Я настоятельно рекомендую переименовать карту, добавив суффикс, чтобы она не вызывала ошибок при использовании одинаковых/разных карт на других серверах.*

## Лучший способ
***Далее я опишу, как сделать так, чтобы на вашем сервере размещалась карта непосредственно из содержимого мастерской.***

Если вы хотите переключиться на карту мастерской только один раз, просто сделайте:
    
    host_workshop_map Map_id

Вашему серверу не нужно подписываться на карту
Но если вы хотите установить карту на своем сервере на длительный срок, то вам потребуется:
Доступ к ftp, доступ к запуску параметров srcds и если ещё не указан -authkey

MAP_ID, как он появляется в конце URL-адреса мастерской:
    
    http://steamcommunity.com/sharedfiles/filedetails/?id=MAP_ID

Имя файла карты, которое отображается в
    
    csgo\maps\workshop\MAP_ID\MAP_NAME.bsp
    
при подписке на файл.

**Шаг 1. Параметры запуска**<br>
Если ваш провайдер сервера еще не настроил его:
В параметрах запуска srcds должен присутствовать параметр -authkey с ключом, сгенерированным на этой странице

(Обратите внимание на то, что необходимо также установить +sv_setsteamaccount с ключом, сгенерированным на этой странице, если он уже настроен.)

После этого можно добавлять эти необязательные параметры только в том случае, если необходимо, чтобы карта мастерской загружалась при перезагрузке сервера:

```
+host_workshop_map ID_Map // ID_Map — цифры id карты мастерской после filedetails/?id=.
+workshop_start_map ID_Map
+game_type X
+game_mode X
Если карта мастерской, с которой вы запускаете сервер, использует другой game_type и mode, чем "competitive" 0
```

**Шаг 2. Добавьте ссылку на карту в свой ftp**<br>
Добавить с новой строки в maplist.txt, mapcycle.txt:

    "workshop/ID_MAP/MAP_NAME"

Создайте новый файл «subscribed_file_ids.txt» с каждым идентификатором карты мастерской, который вы хотите, в качестве новой строки в папке csgo вашего ftp.

*Например:*

    51650654
    69480498


Добавьте: **"workshop\ID_MAP\MAP_NAME" ""** в *gamemodes_server.txt* список карт той группы карт, которую использует ваш game_type/game_mode (знак \ важнее /)

Если на карте используется game_type "custom" с пользовательскими cfg от авторов, вы должны проверить, что в вашем gamemodes_server.txt есть пользовательский game_type, если это не так:

Перед "// Map groups" добавить:
```
"custom"
{
    "gameModes"
    {
        "custom"
        {
            "maxplayers" "30"
            // max players on server without spectators

            "exec"
            {
            // "exec" "custom_config.cfg"
            }
            "mapgroupsMP"
            {
                "mg_custom" ""
            }
        }
    }
}
```
И в этот же файл добавьте карту, после закрывающей скобки последней группы карт (в "mapgroup"):
```
"mg_custom"
{
    "name" "mg_custom"
    "maps"
    {
        // другие ваши карты пользовательской группы
        "workshop\MAP_ID\MAP_NAME" ""
    }
}
```

**Последний шаг. Изменение карты с помощью rcon**<br>
Выполнив шаги 1 и 2, можно сменить карту на карту мастерской, введя команду:

    rcon host_workshop_map MAP_ID

или если вы уже добавили id в файл subscribed_file_ids.txt, то можно просто сделать так:

    rcon map workshop/MAP_ID/MAP_NAME

Если на карте используется другой режим game_type, то он определит его из gamemodes_server.txt, но в этом случае вы всегда можете выполнить эту команду перед изменением карты
```
rcon game_type X
rcon game_mode X
```
X - соответствующее число

или добавьте имя типа
Например:

    rcon map workshop/MAP_ID/MAP_NAME custom

Готово!

### Источник: [Steam руководство](https://steamcommunity.com/sharedfiles/filedetails/?id=652443917)
